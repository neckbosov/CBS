# CBS и субоптимальные алгоритмы ECBS и AFS-CBS для решения задачи MAPF

В данном репозитории содержаться реализации следующих алгоритмов: A* (как обычный, так и для решения MAPF), AFS-CBS (и реализованный для него BCBS(w, 1)), CBS, ECBS. Все они находятся в папке `src`

Все алгоритмы протестированы и тесты к ним в папке `test` (отметим, что для A* MAPF всегда 2 теста для двух агентов, потому что для большего числа случался лимит по памяти на наших устройствах). Тесты, содержащие в названии Small работают секунды, тесты с Large могут работать минут 5, суммарно все тесты отрабатывают примерно за час.


Зависимости: `g++`, `googletest`, `python`, `python-tqdm`, `jupyter`, `boost`

Сборка:

```bash
mkdir build && cd build && cmake .. && make -j6 && cd ..
```

Запуск тестов:

```bash
build/test/CBS_tst
```

Запуск основного приложения:

```bash
build/src/CBS_run results_path algo_name map_path scen_path tasks_count test_num
```

Аргументы:

* `results_path` - путь к файлу для записи результата
* `algo_name` - имя алгоритма (`CBS`, `ECBS`, `AFS`, `ASTAR`)
* `map_path` - путь к файлу карты movingai
* `scen_path` - путь к файлу сценария movingai
* `tasks_count` - количество акторов для теста
* `test_num` - id теста, используется для генерации заданий из файла

Для `AFS` и `ECBS` также последним аргументов необходимо передать параметр `w` алгоритма.

Бенчмарки находятся в файлах `Benchmarks.ipynb`, `Benchmarks-ECBS-CBS-opt-stat.ipynb` и `BenchmarksAFS-stat-weight-time.ipynb`. Результаты, графики и выводы, а также более подробное описание содержится в отчете. Ради удобства и красоты графики были сделаны в Excel, а не в файлах с бенчмарками.

